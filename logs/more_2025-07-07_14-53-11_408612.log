2025-07-07 14:53:50 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:50 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:50 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:50 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:50 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58531), <eventlet.greenio.base.GreenSocket object at 0x12792ecf0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58531), <eventlet.greenio.base.GreenSocket object at 0x12792ecf0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b220>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929120>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871230486, 'recvWindow': 5000, 'signature': '706822a3f06b2db5f9ab5af9610f7205a955ab472eddcb67889a8248045a05...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871230486, 'recvWindow': 5000, 'signature': '706822a3f06b2db5f9ab5af9610f7205a955ab472eddcb67889a8248045a05...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871230486, 'recvWindow': 5000, 'signature': '706822a3f06b2db5f9ab5af9610f7205a955ab472eddcb67889...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ea50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a8b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a8b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x127988190>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58572), <eventlet.greenio.base.GreenSocket object at 0x12793b590>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58572), <eventlet.greenio.base.GreenSocket object at 0x12793b590>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928cc0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871234775, 'recvWindow': 5000, 'signature': 'b19c7e49713fb15f2a89199655ed2c3a29e7b84caf6f16d0ee9c67b1115d2d...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871234775, 'recvWindow': 5000, 'signature': 'b19c7e49713fb15f2a89199655ed2c3a29e7b84caf6f16d0ee9c67b1115d2d...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871234775, 'recvWindow': 5000, 'signature': 'b19c7e49713fb15f2a89199655ed2c3a29e7b84caf6f16d0ee9...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799f450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b6f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b6f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x127988910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58571), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58571), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a97c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a97c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a97c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929260>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871234833, 'recvWindow': 5000, 'signature': '39df32d58c72b323026fde5f76152013c5f9ba9f3baa0df8b79ff11031671d...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871234833, 'recvWindow': 5000, 'signature': '39df32d58c72b323026fde5f76152013c5f9ba9f3baa0df8b79ff11031671d...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871234833, 'recvWindow': 5000, 'signature': '39df32d58c72b323026fde5f76152013c5f9ba9f3baa0df8b79...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799f7d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ad70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ad70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x127988910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58569), <eventlet.greenio.base.GreenSocket object at 0x12793b290>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58569), <eventlet.greenio.base.GreenSocket object at 0x12793b290>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa3f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa3f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa3f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b220>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127905f80>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871234888, 'recvWindow': 5000, 'signature': '39046d94e7e9994a5157f789847065f2a8c7f6d5184551202b41d0365b7fef...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871234888, 'recvWindow': 5000, 'signature': '39046d94e7e9994a5157f789847065f2a8c7f6d5184551202b41d0365b7fef...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871234888, 'recvWindow': 5000, 'signature': '39046d94e7e9994a5157f789847065f2a8c7f6d5184551202b4...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955700>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955700>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e3d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b360>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b360>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x127988910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58572), <eventlet.greenio.base.GreenSocket object at 0x12793b590>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58572), <eventlet.greenio.base.GreenSocket object at 0x12793b590>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906de0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871234937, 'recvWindow': 5000, 'signature': '701d1fd0311d1b1498a611668a81dfa2dd05e07b90d30ce51631adb9ae2973...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871234937, 'recvWindow': 5000, 'signature': '701d1fd0311d1b1498a611668a81dfa2dd05e07b90d30ce51631adb9ae2973...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871234937, 'recvWindow': 5000, 'signature': '701d1fd0311d1b1498a611668a81dfa2dd05e07b90d30ce5163...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ea50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x127988910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:55 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:55 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:57 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58646), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58646), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x116781e40>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871237135, 'recvWindow': 5000, 'signature': 'f536d8592c7caca237748c90911250bca5f45f9154615cafc7e04fbf7d8eb7...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871237135, 'recvWindow': 5000, 'signature': 'f536d8592c7caca237748c90911250bca5f45f9154615cafc7e04fbf7d8eb7...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871237135, 'recvWindow': 5000, 'signature': 'f536d8592c7caca237748c90911250bca5f45f9154615cafc7e...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x126336c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x126336c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e7d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:57 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58647), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58647), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279060c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871237192, 'recvWindow': 5000, 'signature': '3a1d6f527160f859b8670729d1695f250c6529e1db569d89191f52e1db1bad...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871237192, 'recvWindow': 5000, 'signature': '3a1d6f527160f859b8670729d1695f250c6529e1db569d89191f52e1db1bad...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871237192, 'recvWindow': 5000, 'signature': '3a1d6f527160f859b8670729d1695f250c6529e1db569d89191...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127936570>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127936570>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799eed0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:59 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58647), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58647), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa7b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928680>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871239794, 'recvWindow': 5000, 'signature': '3da15a8e006e7394355a0085c157139b346cee80da78b8e8995d16982d9e8d...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871239794, 'recvWindow': 5000, 'signature': '3da15a8e006e7394355a0085c157139b346cee80da78b8e8995d16982d9e8d...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871239794, 'recvWindow': 5000, 'signature': '3da15a8e006e7394355a0085c157139b346cee80da78b8e8995...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127915860>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127915860>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483550>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:59 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:59 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58646), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58646), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9c70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928cc0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871239851, 'recvWindow': 5000, 'signature': '89baeff4d83306f9b6a7aca9c31ede6f1e550d42bbb0a082ae54b6040fdb98...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871239851, 'recvWindow': 5000, 'signature': '89baeff4d83306f9b6a7aca9c31ede6f1e550d42bbb0a082ae54b6040fdb98...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871239851, 'recvWindow': 5000, 'signature': '89baeff4d83306f9b6a7aca9c31ede6f1e550d42bbb0a082ae5...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279364c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279364c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126482fd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:53:59 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:53:59 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:02 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58725), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58725), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279532e0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871242836, 'recvWindow': 5000, 'signature': 'b4037fdb0bbccad9a46876637816b7ab8f99eeea3346965b2e59c18d144c52...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871242836, 'recvWindow': 5000, 'signature': 'b4037fdb0bbccad9a46876637816b7ab8f99eeea3346965b2e59c18d144c52...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871242836, 'recvWindow': 5000, 'signature': 'b4037fdb0bbccad9a46876637816b7ab8f99eeea3346965b2e5...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264c8890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264c8890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158155950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:02 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:02 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58726), <eventlet.greenio.base.GreenSocket object at 0x12793b4d0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58726), <eventlet.greenio.base.GreenSocket object at 0x12793b4d0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279532e0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871242888, 'recvWindow': 5000, 'signature': 'c48fd39981ecf19d2beb57ea926c92af724a310a9bdf46308f842723e78e60...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871242888, 'recvWindow': 5000, 'signature': 'c48fd39981ecf19d2beb57ea926c92af724a310a9bdf46308f842723e78e60...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871242888, 'recvWindow': 5000, 'signature': 'c48fd39981ecf19d2beb57ea926c92af724a310a9bdf46308f8...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264cb3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264cb3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ca50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:02 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:02 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:03 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:03 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:03 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:03 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:05 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58725), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58725), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a99a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127952480>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871245780, 'recvWindow': 5000, 'signature': '6f1355685e81e0fcc7e18826da84c5ef99061f80317d4338afb9922d0d193c...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871245780, 'recvWindow': 5000, 'signature': '6f1355685e81e0fcc7e18826da84c5ef99061f80317d4338afb9922d0d193c...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871245780, 'recvWindow': 5000, 'signature': '6f1355685e81e0fcc7e18826da84c5ef99061f80317d4338afb...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1581542d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:05 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:05 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58726), <eventlet.greenio.base.GreenSocket object at 0x12793b4d0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58726), <eventlet.greenio.base.GreenSocket object at 0x12793b4d0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa300>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906ca0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871245839, 'recvWindow': 5000, 'signature': '82d523d0b92f2b3d627e28245fd5ebeaae1d7bcdffd22c651070bfe09ca7ad...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871245839, 'recvWindow': 5000, 'signature': '82d523d0b92f2b3d627e28245fd5ebeaae1d7bcdffd22c651070bfe09ca7ad...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871245839, 'recvWindow': 5000, 'signature': '82d523d0b92f2b3d627e28245fd5ebeaae1d7bcdffd22c65107...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:05 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:05 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58811), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58811), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127953420>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871248742, 'recvWindow': 5000, 'signature': 'aa11906c5e66323d6e9902c53a100d36b0c45ad548ae9001da2522cb17808d...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871248742, 'recvWindow': 5000, 'signature': 'aa11906c5e66323d6e9902c53a100d36b0c45ad548ae9001da2522cb17808d...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871248742, 'recvWindow': 5000, 'signature': 'aa11906c5e66323d6e9902c53a100d36b0c45ad548ae9001da2...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127956780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127956780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa6d40>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871248878, 'recvWindow': 5000, 'signature': '84f7fe11388d7f582d03ffb4203778bd34f5f9b785d720d51efe4a6c800f61...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871248878, 'recvWindow': 5000, 'signature': '84f7fe11388d7f582d03ffb4203778bd34f5f9b785d720d51efe4a6c800f61...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871248878, 'recvWindow': 5000, 'signature': '84f7fe11388d7f582d03ffb4203778bd34f5f9b785d720d51ef...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955910>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799edd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:08 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58811), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58811), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8320>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa6340>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871248942, 'recvWindow': 5000, 'signature': '5b7868cd91df024129e108576df70b63e095cf4a0b16c27fd0949c9365ab40...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871248942, 'recvWindow': 5000, 'signature': '5b7868cd91df024129e108576df70b63e095cf4a0b16c27fd0949c9365ab40...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871248942, 'recvWindow': 5000, 'signature': '5b7868cd91df024129e108576df70b63e095cf4a0b16c27fd09...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127956c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127956c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799f950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:08 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:08 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:09 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa72e0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871248999, 'recvWindow': 5000, 'signature': 'c1c7c545398f2cf29d1cb20407fc98e33fc623839de3f20cd7048506a01a1f...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871248999, 'recvWindow': 5000, 'signature': 'c1c7c545398f2cf29d1cb20407fc98e33fc623839de3f20cd7048506a01a1f...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871248999, 'recvWindow': 5000, 'signature': 'c1c7c545398f2cf29d1cb20407fc98e33fc623839de3f20cd70...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957a10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957a10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ced0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:11 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa60c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871251811, 'recvWindow': 5000, 'signature': 'e46c00f58e5c779ef67c172537afe09f602478565200b1fdf8956eeed516ab...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871251811, 'recvWindow': 5000, 'signature': 'e46c00f58e5c779ef67c172537afe09f602478565200b1fdf8956eeed516ab...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871251811, 'recvWindow': 5000, 'signature': 'e46c00f58e5c779ef67c172537afe09f602478565200b1fdf89...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955a70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955a70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:11 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:11 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127953c40>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871251890, 'recvWindow': 5000, 'signature': 'a7c673827634fe08708411695e00aaa7fd3a82ce01258ed137842dbf2cacfa...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871251890, 'recvWindow': 5000, 'signature': 'a7c673827634fe08708411695e00aaa7fd3a82ce01258ed137842dbf2cacfa...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871251890, 'recvWindow': 5000, 'signature': 'a7c673827634fe08708411695e00aaa7fd3a82ce01258ed1378...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955700>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955700>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1264808d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:11 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:11 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:13 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:13 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:13 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:13 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:14 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58888), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58888), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264373e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264373e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264373e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa71a0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871254755, 'recvWindow': 5000, 'signature': '8f120c239e5c630eb10d7b9134181e6a66b63b83d74563fecb9f563dcc3ac8...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871254755, 'recvWindow': 5000, 'signature': '8f120c239e5c630eb10d7b9134181e6a66b63b83d74563fecb9f563dcc3ac8...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871254755, 'recvWindow': 5000, 'signature': '8f120c239e5c630eb10d7b9134181e6a66b63b83d74563fecb9...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955860>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955860>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:14 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:14 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58817), <eventlet.greenio.base.GreenSocket object at 0x1279d3d10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aae40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa56c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871254826, 'recvWindow': 5000, 'signature': 'ed18d5c8e5b551a19773d82972ed7d33c8c44b0d84b4a90a37932086389c55...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871254826, 'recvWindow': 5000, 'signature': 'ed18d5c8e5b551a19773d82972ed7d33c8c44b0d84b4a90a37932086389c55...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871254826, 'recvWindow': 5000, 'signature': 'ed18d5c8e5b551a19773d82972ed7d33c8c44b0d84b4a90a379...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957960>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957960>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:14 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:14 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:18 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58959), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58959), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa4400>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871258729, 'recvWindow': 5000, 'signature': 'bbcff5f46d350bedafddff105ef00a476edee29a27702b1e0c5f05e4e2a2b8...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871258729, 'recvWindow': 5000, 'signature': 'bbcff5f46d350bedafddff105ef00a476edee29a27702b1e0c5f05e4e2a2b8...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871258729, 'recvWindow': 5000, 'signature': 'bbcff5f46d350bedafddff105ef00a476edee29a27702b1e0c5...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957ee0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957ee0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483850>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:18 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:18 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5260>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871258784, 'recvWindow': 5000, 'signature': '6b0b1472e3f65ad7a52b744bb2cb5c26c33a50616c1caaadd1841852e2f49e...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871258784, 'recvWindow': 5000, 'signature': '6b0b1472e3f65ad7a52b744bb2cb5c26c33a50616c1caaadd1841852e2f49e...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871258784, 'recvWindow': 5000, 'signature': '6b0b1472e3f65ad7a52b744bb2cb5c26c33a50616c1caaadd18...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1264831d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:18 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:18 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:21 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa6ca0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871261699, 'recvWindow': 5000, 'signature': 'a19fe1d888e236c1917d8bd8ed0b8dd62a2347ded83472aafb0761050ad13e...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871261699, 'recvWindow': 5000, 'signature': 'a19fe1d888e236c1917d8bd8ed0b8dd62a2347ded83472aafb0761050ad13e...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871261699, 'recvWindow': 5000, 'signature': 'a19fe1d888e236c1917d8bd8ed0b8dd62a2347ded83472aafb0...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957cd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957cd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799cb50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:21 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:21 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58959), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58959), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9a90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5260>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871261755, 'recvWindow': 5000, 'signature': '02dea8c501a3f6b135ed12c9d7b244d05d3492a295729de7f837c924a43dec...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871261755, 'recvWindow': 5000, 'signature': '02dea8c501a3f6b135ed12c9d7b244d05d3492a295729de7f837c924a43dec...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871261755, 'recvWindow': 5000, 'signature': '02dea8c501a3f6b135ed12c9d7b244d05d3492a295729de7f83...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279559c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279559c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799da50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:21 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:21 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59035), <eventlet.greenio.base.GreenSocket object at 0x1279d3950>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59035), <eventlet.greenio.base.GreenSocket object at 0x1279d3950>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aad50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aad50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aad50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5940>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871264694, 'recvWindow': 5000, 'signature': 'bb5405d6d2e4d47a8a2c9bb8414816817b147842110481a94ba492f1b788e3...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871264694, 'recvWindow': 5000, 'signature': 'bb5405d6d2e4d47a8a2c9bb8414816817b147842110481a94ba492f1b788e3...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871264694, 'recvWindow': 5000, 'signature': 'bb5405d6d2e4d47a8a2c9bb8414816817b147842110481a94ba...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955bd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955bd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799f9d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 58960), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa5d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5f80>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871264755, 'recvWindow': 5000, 'signature': '240ac18077494890ecee37391a5a2d3503e04edd56edfb9d816b70e054ee90...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871264755, 'recvWindow': 5000, 'signature': '240ac18077494890ecee37391a5a2d3503e04edd56edfb9d816b70e054ee90...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871264755, 'recvWindow': 5000, 'signature': '240ac18077494890ecee37391a5a2d3503e04edd56edfb9d816...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279c9de0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279c9de0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59046), <eventlet.greenio.base.GreenSocket object at 0x1279d3ad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59046), <eventlet.greenio.base.GreenSocket object at 0x1279d3ad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a86e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a86e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a86e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127949440>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871264855, 'recvWindow': 5000, 'signature': '1511ebed82b5009d6ee294a7549bd9b3cacf645728aaebb9a903ee8929547e...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871264855, 'recvWindow': 5000, 'signature': '1511ebed82b5009d6ee294a7549bd9b3cacf645728aaebb9a903ee8929547e...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871264855, 'recvWindow': 5000, 'signature': '1511ebed82b5009d6ee294a7549bd9b3cacf645728aaebb9a90...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1581559d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59037), <eventlet.greenio.base.GreenSocket object at 0x1279d3590>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59037), <eventlet.greenio.base.GreenSocket object at 0x1279d3590>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa210>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa210>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa210>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b480>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928860>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871264903, 'recvWindow': 5000, 'signature': '3160482d34590caba731281c940138ca8295c3a1fab9f7d95be63febdfc2fe...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871264903, 'recvWindow': 5000, 'signature': '3160482d34590caba731281c940138ca8295c3a1fab9f7d95be63febdfc2fe...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871264903, 'recvWindow': 5000, 'signature': '3160482d34590caba731281c940138ca8295c3a1fab9f7d95be...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x126336620>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x126336620>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126481850>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:24 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:27 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59101), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59101), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b480>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906d40>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871267690, 'recvWindow': 5000, 'signature': 'b21ae60be212ea79b6ac778b59d7df5939026304d6bfa424f99d6a02e3c888...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871267690, 'recvWindow': 5000, 'signature': 'b21ae60be212ea79b6ac778b59d7df5939026304d6bfa424f99d6a02e3c888...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871267690, 'recvWindow': 5000, 'signature': 'b21ae60be212ea79b6ac778b59d7df5939026304d6bfa424f99...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279154f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279154f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483ad0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a520>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a520>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:27 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:27 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59102), <eventlet.greenio.base.GreenSocket object at 0x12793ba10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59102), <eventlet.greenio.base.GreenSocket object at 0x12793ba10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279060c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871267745, 'recvWindow': 5000, 'signature': '2b02dd696277f364c80305daa1aa61b5deca1d4d802a5ae2df3de258aba4d8...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871267745, 'recvWindow': 5000, 'signature': '2b02dd696277f364c80305daa1aa61b5deca1d4d802a5ae2df3de258aba4d8...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871267745, 'recvWindow': 5000, 'signature': '2b02dd696277f364c80305daa1aa61b5deca1d4d802a5ae2df3...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279152e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279152e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1264831d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:27 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:27 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:30 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59102), <eventlet.greenio.base.GreenSocket object at 0x12793ba10>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59102), <eventlet.greenio.base.GreenSocket object at 0x12793ba10>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436b70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928720>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871270694, 'recvWindow': 5000, 'signature': '5e0754678b24d21eb8d64b11505a97e175208020b3c0ec98c51c4069a69cd1...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871270694, 'recvWindow': 5000, 'signature': '5e0754678b24d21eb8d64b11505a97e175208020b3c0ec98c51c4069a69cd1...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871270694, 'recvWindow': 5000, 'signature': '5e0754678b24d21eb8d64b11505a97e175208020b3c0ec98c51...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279155a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279155a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154650>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:30 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:30 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59101), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59101), <eventlet.greenio.base.GreenSocket object at 0x12631fe90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437020>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b480>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929760>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871270742, 'recvWindow': 5000, 'signature': '2222b0b57487b10e8f13c42cd36cefd0300d9a6f606bc92760f1afab7a5047...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871270742, 'recvWindow': 5000, 'signature': '2222b0b57487b10e8f13c42cd36cefd0300d9a6f606bc92760f1afab7a5047...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871270742, 'recvWindow': 5000, 'signature': '2222b0b57487b10e8f13c42cd36cefd0300d9a6f606bc92760f...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127915180>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127915180>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126481550>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:30 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:30 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:33 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59162), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59162), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906de0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871273687, 'recvWindow': 5000, 'signature': '4511d000899decf006690b7844ce4906d9229e54c73dae1546afccdab82029...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871273687, 'recvWindow': 5000, 'signature': '4511d000899decf006690b7844ce4906d9229e54c73dae1546afccdab82029...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871273687, 'recvWindow': 5000, 'signature': '4511d000899decf006690b7844ce4906d9229e54c73dae1546a...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127927490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127927490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:33 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:33 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59163), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59163), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279489a0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871273737, 'recvWindow': 5000, 'signature': 'a2062a191598eb849bb37c35b1d8e8e1d4f091752df9f6ebf10e632ec6480f...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871273737, 'recvWindow': 5000, 'signature': 'a2062a191598eb849bb37c35b1d8e8e1d4f091752df9f6ebf10e632ec6480f...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871273737, 'recvWindow': 5000, 'signature': 'a2062a191598eb849bb37c35b1d8e8e1d4f091752df9f6ebf10...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127927750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127927750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1264839d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:33 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:33 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:34 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:34 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:34 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:34 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:36 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59162), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59162), <eventlet.greenio.base.GreenSocket object at 0x12793bf50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a050>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279060c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871276687, 'recvWindow': 5000, 'signature': '3161ec2982fd576014f5cc9fe5edcbcf448ff6a0eadde90890152bdc9a76ac...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871276687, 'recvWindow': 5000, 'signature': '3161ec2982fd576014f5cc9fe5edcbcf448ff6a0eadde90890152bdc9a76ac...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871276687, 'recvWindow': 5000, 'signature': '3161ec2982fd576014f5cc9fe5edcbcf448ff6a0eadde908901...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127927330>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127927330>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x158154550>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:36 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:36 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59163), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59163), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9130>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127952980>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871276737, 'recvWindow': 5000, 'signature': 'a41927e79a6b6fc489ddf65a7f9880db0fa00bd100ead2ba62f99cf9214bd4...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871276737, 'recvWindow': 5000, 'signature': 'a41927e79a6b6fc489ddf65a7f9880db0fa00bd100ead2ba62f99cf9214bd4...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871276737, 'recvWindow': 5000, 'signature': 'a41927e79a6b6fc489ddf65a7f9880db0fa00bd100ead2ba62f...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279152e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279152e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x1581545d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:36 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:36 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59228), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59228), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127951da0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871279661, 'recvWindow': 5000, 'signature': 'd45ef3136ed2d64c3d1875e1800470c9574c0918333a787e6d81f9beddcd1a...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871279661, 'recvWindow': 5000, 'signature': 'd45ef3136ed2d64c3d1875e1800470c9574c0918333a787e6d81f9beddcd1a...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871279661, 'recvWindow': 5000, 'signature': 'd45ef3136ed2d64c3d1875e1800470c9574c0918333a787e6d8...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279349f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279349f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483ad0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59234), <eventlet.greenio.base.GreenSocket object at 0x1279d2810>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59234), <eventlet.greenio.base.GreenSocket object at 0x1279d2810>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa4e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa4e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa4e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648ab00>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa53a0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871279749, 'recvWindow': 5000, 'signature': '99d63cdb5a7d058d821332fb28c2a5f94d62fd943ad1ebf12c4b074b492f17...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871279749, 'recvWindow': 5000, 'signature': '99d63cdb5a7d058d821332fb28c2a5f94d62fd943ad1ebf12c4b074b492f17...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871279749, 'recvWindow': 5000, 'signature': '99d63cdb5a7d058d821332fb28c2a5f94d62fd943ad1ebf12c4...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127956c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127956c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799c750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59231), <eventlet.greenio.base.GreenSocket object at 0x1279d3e90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59231), <eventlet.greenio.base.GreenSocket object at 0x1279d3e90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab980>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab980>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab980>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279525c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871279804, 'recvWindow': 5000, 'signature': '53a615a2f551084a798e1970dfacf59573b6a10344aa6a2310d34ce1370642...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871279804, 'recvWindow': 5000, 'signature': '53a615a2f551084a798e1970dfacf59573b6a10344aa6a2310d34ce1370642...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871279804, 'recvWindow': 5000, 'signature': '53a615a2f551084a798e1970dfacf59573b6a10344aa6a2310d...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127934ec0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127934ec0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ca50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59228), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59228), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5120>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871279853, 'recvWindow': 5000, 'signature': '2437727f51c3c7c71007288eb08b3b9b3a1cd57dd13bbf9ac89c19504352b9...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871279853, 'recvWindow': 5000, 'signature': '2437727f51c3c7c71007288eb08b3b9b3a1cd57dd13bbf9ac89c19504352b9...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871279853, 'recvWindow': 5000, 'signature': '2437727f51c3c7c71007288eb08b3b9b3a1cd57dd13bbf9ac89...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ea50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:39 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:42 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59292), <eventlet.greenio.base.GreenSocket object at 0x12793bb90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59292), <eventlet.greenio.base.GreenSocket object at 0x12793bb90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa4720>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871282717, 'recvWindow': 5000, 'signature': 'ec166e93ba02fa663fac0fec1839f68738ad8ac81266a969561e5c5924e880...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871282717, 'recvWindow': 5000, 'signature': 'ec166e93ba02fa663fac0fec1839f68738ad8ac81266a969561e5c5924e880...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871282717, 'recvWindow': 5000, 'signature': 'ec166e93ba02fa663fac0fec1839f68738ad8ac81266a969561...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127956780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127956780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799efd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:42 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:42 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59291), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59291), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa7920>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871282766, 'recvWindow': 5000, 'signature': '3f53e3d07c99e10c93bb9ce2128227ee62803e816758579f8ac74472f50e28...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871282766, 'recvWindow': 5000, 'signature': '3f53e3d07c99e10c93bb9ce2128227ee62803e816758579f8ac74472f50e28...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871282766, 'recvWindow': 5000, 'signature': '3f53e3d07c99e10c93bb9ce2128227ee62803e816758579f8ac...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955f40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955f40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d4d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:42 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:42 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:44 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:44 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:44 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:44 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:45 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59291), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59291), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa6c00>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871285662, 'recvWindow': 5000, 'signature': '5782e856e33328106e8522617c9007c1ab4a86422edf47457d093d453216af...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871285662, 'recvWindow': 5000, 'signature': '5782e856e33328106e8522617c9007c1ab4a86422edf47457d093d453216af...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871285662, 'recvWindow': 5000, 'signature': '5782e856e33328106e8522617c9007c1ab4a86422edf47457d0...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279554f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279554f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799fe50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:45 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:45 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59292), <eventlet.greenio.base.GreenSocket object at 0x12793bb90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59292), <eventlet.greenio.base.GreenSocket object at 0x12793bb90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a9d60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa7600>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871285714, 'recvWindow': 5000, 'signature': 'adfee05934bdcdf345f37e5a3e1e59db16e5a8b5dd4c25171af0d2b7f7962a...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871285714, 'recvWindow': 5000, 'signature': 'adfee05934bdcdf345f37e5a3e1e59db16e5a8b5dd4c25171af0d2b7f7962a...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871285714, 'recvWindow': 5000, 'signature': 'adfee05934bdcdf345f37e5a3e1e59db16e5a8b5dd4c25171af...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279575f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279575f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799dad0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:45 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:45 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:48 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59367), <eventlet.greenio.base.GreenSocket object at 0x127938050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59367), <eventlet.greenio.base.GreenSocket object at 0x127938050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa40e0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871288711, 'recvWindow': 5000, 'signature': 'bf217584315206f6ef64bfc586eb214bda03b0c7410651fba6c2928774b207...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871288711, 'recvWindow': 5000, 'signature': 'bf217584315206f6ef64bfc586eb214bda03b0c7410651fba6c2928774b207...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871288711, 'recvWindow': 5000, 'signature': 'bf217584315206f6ef64bfc586eb214bda03b0c7410651fba6c...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279c8940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279c8940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648bce0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:48 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:48 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59368), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59368), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa77e0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871288765, 'recvWindow': 5000, 'signature': '2fccc856310434b1bed00b5529462ea78f1006f817fb49913de282e423a988...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871288765, 'recvWindow': 5000, 'signature': '2fccc856310434b1bed00b5529462ea78f1006f817fb49913de282e423a988...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871288765, 'recvWindow': 5000, 'signature': '2fccc856310434b1bed00b5529462ea78f1006f817fb49913de...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279caf10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279caf10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ce50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:48 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:48 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:51 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59368), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59368), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab890>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa47c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871291690, 'recvWindow': 5000, 'signature': '256d351a728bc6aa606559e998365c06e2e56ce893eadb26c0b735a6d71cf5...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871291690, 'recvWindow': 5000, 'signature': '256d351a728bc6aa606559e998365c06e2e56ce893eadb26c0b735a6d71cf5...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871291690, 'recvWindow': 5000, 'signature': '256d351a728bc6aa606559e998365c06e2e56ce893eadb26c0b...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279c83c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279c83c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ea50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:51 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:51 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59367), <eventlet.greenio.base.GreenSocket object at 0x127938050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59367), <eventlet.greenio.base.GreenSocket object at 0x127938050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab7a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127ebd440>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871291744, 'recvWindow': 5000, 'signature': 'fee2995192251131a8f1a799dac39ebd578a7da5a22f701e07df80d099b570...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871291744, 'recvWindow': 5000, 'signature': 'fee2995192251131a8f1a799dac39ebd578a7da5a22f701e07df80d099b570...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871291744, 'recvWindow': 5000, 'signature': 'fee2995192251131a8f1a799dac39ebd578a7da5a22f701e07d...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279ca570>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279ca570>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799eed0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:51 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:51 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59446), <eventlet.greenio.base.GreenSocket object at 0x1279d1190>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59446), <eventlet.greenio.base.GreenSocket object at 0x1279d1190>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8b90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8b90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8b90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127ebf9c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871294761, 'recvWindow': 5000, 'signature': '1e1f6f479c2fb38b56d02f5e35e32b11f70f8b84a9c31ef5cf8a3f5e6ff7e0...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871294761, 'recvWindow': 5000, 'signature': '1e1f6f479c2fb38b56d02f5e35e32b11f70f8b84a9c31ef5cf8a3f5e6ff7e0...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871294761, 'recvWindow': 5000, 'signature': '1e1f6f479c2fb38b56d02f5e35e32b11f70f8b84a9c31ef5cf8...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d6d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59444), <eventlet.greenio.base.GreenSocket object at 0x1279d1850>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59444), <eventlet.greenio.base.GreenSocket object at 0x1279d1850>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aac60>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127ebede0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871294817, 'recvWindow': 5000, 'signature': '5afe1fc8318484480d3d1dddce39d16d8ae215cd05241aa82b9878dd338735...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871294817, 'recvWindow': 5000, 'signature': '5afe1fc8318484480d3d1dddce39d16d8ae215cd05241aa82b9878dd338735...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871294817, 'recvWindow': 5000, 'signature': '5afe1fc8318484480d3d1dddce39d16d8ae215cd05241aa82b9...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279caaf0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279caaf0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ead0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59448), <eventlet.greenio.base.GreenSocket object at 0x1279d2510>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59448), <eventlet.greenio.base.GreenSocket object at 0x1279d2510>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b480>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279062a0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871294895, 'recvWindow': 5000, 'signature': '89517f1935d8a7e9e1ed7d1c7edb8b5a5cdb098284d3fd86806d81dc388ef1...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871294895, 'recvWindow': 5000, 'signature': '89517f1935d8a7e9e1ed7d1c7edb8b5a5cdb098284d3fd86806d81dc388ef1...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871294895, 'recvWindow': 5000, 'signature': '89517f1935d8a7e9e1ed7d1c7edb8b5a5cdb098284d3fd86806...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127937ac0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799cb50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b230>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:54 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59474), <eventlet.greenio.base.GreenSocket object at 0x1279d1cd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59474), <eventlet.greenio.base.GreenSocket object at 0x1279d1cd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279b8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279b8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279b8500>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279060c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871294949, 'recvWindow': 5000, 'signature': 'af8c9cba794b7f169a078c3dd7acde7f776e64ab394ab48238b0f805e00488...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871294949, 'recvWindow': 5000, 'signature': 'af8c9cba794b7f169a078c3dd7acde7f776e64ab394ab48238b0f805e00488...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871294949, 'recvWindow': 5000, 'signature': 'af8c9cba794b7f169a078c3dd7acde7f776e64ab394ab48238b...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127937a10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127937a10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e3d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648afd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:54 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:54 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:55 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:55 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:55 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:55 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:57 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59537), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59537), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929b20>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871297697, 'recvWindow': 5000, 'signature': 'cb6244e6a8ef52819a395dedf4cb2718abfd4df71fdb9ed3df6fc8573c72f2...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871297697, 'recvWindow': 5000, 'signature': 'cb6244e6a8ef52819a395dedf4cb2718abfd4df71fdb9ed3df6fc8573c72f2...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871297697, 'recvWindow': 5000, 'signature': 'cb6244e6a8ef52819a395dedf4cb2718abfd4df71fdb9ed3df6...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264cb3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264cb3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b950>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:57 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59538), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59538), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906200>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871297754, 'recvWindow': 5000, 'signature': 'd08352687dfa08e3d1ae7b94ffe82e414e0f285a258b48738e3fe92eb0c247...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871297754, 'recvWindow': 5000, 'signature': 'd08352687dfa08e3d1ae7b94ffe82e414e0f285a258b48738e3fe92eb0c247...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871297754, 'recvWindow': 5000, 'signature': 'd08352687dfa08e3d1ae7b94ffe82e414e0f285a258b48738e3...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1264c89f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799ebd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b820>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b820>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:54:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:54:57 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:00 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59537), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59537), <eventlet.greenio.base.GreenSocket object at 0x12631fdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126436e40>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a510>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127905f80>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871300691, 'recvWindow': 5000, 'signature': '8498d136c5753400bdc2f64d858f780bc7c2d20e4156927a0e3570ff8e3629...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871300691, 'recvWindow': 5000, 'signature': '8498d136c5753400bdc2f64d858f780bc7c2d20e4156927a0e3570ff8e3629...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871300691, 'recvWindow': 5000, 'signature': '8498d136c5753400bdc2f64d858f780bc7c2d20e4156927a0e3...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127935a70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127935a70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799fed0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:00 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:00 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59538), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59538), <eventlet.greenio.base.GreenSocket object at 0x12793bad0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x126437110>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928ae0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871300743, 'recvWindow': 5000, 'signature': 'ce6bed2de2cf994fd8fc7702e276c75adad3811f6e7782a932956025d9ef53...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871300743, 'recvWindow': 5000, 'signature': 'ce6bed2de2cf994fd8fc7702e276c75adad3811f6e7782a932956025d9ef53...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871300743, 'recvWindow': 5000, 'signature': 'ce6bed2de2cf994fd8fc7702e276c75adad3811f6e7782a9329...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127946410>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127946410>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799fd50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:00 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:00 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:03 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59604), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59604), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127906200>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871303794, 'recvWindow': 5000, 'signature': '454bf5b0090c44ce4f8d15ce14a0bd85bc9196f50e75e06cd0f51d3129a3be...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871303794, 'recvWindow': 5000, 'signature': '454bf5b0090c44ce4f8d15ce14a0bd85bc9196f50e75e06cd0f51d3129a3be...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871303794, 'recvWindow': 5000, 'signature': '454bf5b0090c44ce4f8d15ce14a0bd85bc9196f50e75e06cd0f...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127927490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127927490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d550>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:03 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:03 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59605), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59605), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929b20>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871303845, 'recvWindow': 5000, 'signature': '25fd2091d1febbf1131c67d6c4341c8fdef09179dccbbe701af7ebe15df389...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871303845, 'recvWindow': 5000, 'signature': '25fd2091d1febbf1131c67d6c4341c8fdef09179dccbbe701af7ebe15df389...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871303845, 'recvWindow': 5000, 'signature': '25fd2091d1febbf1131c67d6c4341c8fdef09179dccbbe701af...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x126336db0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x126336db0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799c450>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:03 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:03 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:04 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:04 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:04 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:04 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:06 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59604), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59604), <eventlet.greenio.base.GreenSocket object at 0x12793bdd0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab5c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648a2b0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa6020>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871306699, 'recvWindow': 5000, 'signature': '16d97f77c489b26d18eb61de456a7b41d4140bc03b4e5e995a1d775d46252d...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871306699, 'recvWindow': 5000, 'signature': '16d97f77c489b26d18eb61de456a7b41d4140bc03b4e5e995a1d775d46252d...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871306699, 'recvWindow': 5000, 'signature': '16d97f77c489b26d18eb61de456a7b41d4140bc03b4e5e995a1...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x126336620>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x126336620>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e2d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648ab10>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:06 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:06 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59605), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59605), <eventlet.greenio.base.GreenSocket object at 0x12793b410>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279ab3e0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279067a0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871306754, 'recvWindow': 5000, 'signature': '701c5483f628275a3ec9d2860704c30d1aa3fc59605ca76ea75ee93ad697db...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871306754, 'recvWindow': 5000, 'signature': '701c5483f628275a3ec9d2860704c30d1aa3fc59605ca76ea75ee93ad697db...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871306754, 'recvWindow': 5000, 'signature': '701c5483f628275a3ec9d2860704c30d1aa3fc59605ca76ea75...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x126336c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x126336c50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799c6d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:06 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:06 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59672), <eventlet.greenio.base.GreenSocket object at 0x12793aed0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59672), <eventlet.greenio.base.GreenSocket object at 0x12793aed0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127951260>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871309658, 'recvWindow': 5000, 'signature': 'c583f0672cad1ead9d6697a08c8cd42f32bdc278cf1715fcea8e84831ad9b5...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871309658, 'recvWindow': 5000, 'signature': 'c583f0672cad1ead9d6697a08c8cd42f32bdc278cf1715fcea8e84831ad9b5...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871309658, 'recvWindow': 5000, 'signature': 'c583f0672cad1ead9d6697a08c8cd42f32bdc278cf1715fcea8...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127927750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127927750>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799fad0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59678), <eventlet.greenio.base.GreenSocket object at 0x1279d3f50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59678), <eventlet.greenio.base.GreenSocket object at 0x1279d3f50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648bcd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x1279539c0>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871309784, 'recvWindow': 5000, 'signature': '076997a606b4d39704e68e5a922e62ad6a79825a016ecec5c6da94677e6604...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871309784, 'recvWindow': 5000, 'signature': '076997a606b4d39704e68e5a922e62ad6a79825a016ecec5c6da94677e6604...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871309784, 'recvWindow': 5000, 'signature': '076997a606b4d39704e68e5a922e62ad6a79825a016ecec5c6d...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279564c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483d50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a780>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59672), <eventlet.greenio.base.GreenSocket object at 0x12793aed0>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59672), <eventlet.greenio.base.GreenSocket object at 0x12793aed0>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1264372f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b810>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5440>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871309832, 'recvWindow': 5000, 'signature': '04ea15172cfb9ff0041de368723da59a1849f8f5927a8408a07221dca43610...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871309832, 'recvWindow': 5000, 'signature': '04ea15172cfb9ff0041de368723da59a1849f8f5927a8408a07221dca43610...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871309832, 'recvWindow': 5000, 'signature': '04ea15172cfb9ff0041de368723da59a1849f8f5927a8408a07...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957d80>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957d80>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126483a50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59678), <eventlet.greenio.base.GreenSocket object at 0x1279d3f50>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59678), <eventlet.greenio.base.GreenSocket object at 0x1279d3f50>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279a87d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648bcd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127928680>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871309881, 'recvWindow': 5000, 'signature': 'abaacefe66498dba62201d7955744e24c04439b77230c13400e2f574dc8c02...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871309881, 'recvWindow': 5000, 'signature': 'abaacefe66498dba62201d7955744e24c04439b77230c13400e2f574dc8c02...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871309881, 'recvWindow': 5000, 'signature': 'abaacefe66498dba62201d7955744e24c04439b77230c13400e...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x1279575f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x1279575f0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x126481550>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a2c0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:09 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:12 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59723), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59723), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648bcd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa4a40>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871312706, 'recvWindow': 5000, 'signature': '244bd384218bf2609e0a28905fa20949ddd0c627d94ba7996e0b7387ce453c...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871312706, 'recvWindow': 5000, 'signature': '244bd384218bf2609e0a28905fa20949ddd0c627d94ba7996e0b7387ce453c...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871312706, 'recvWindow': 5000, 'signature': '244bd384218bf2609e0a28905fa20949ddd0c627d94ba7996e0...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957800>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957800>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e250>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:12 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:12 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59724), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59724), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa4680>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871312762, 'recvWindow': 5000, 'signature': 'fd2af4c259dea4119d545412051c50fe095c541145f1b1555f26fe5ca6f5b3...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871312762, 'recvWindow': 5000, 'signature': 'fd2af4c259dea4119d545412051c50fe095c541145f1b1555f26fe5ca6f5b3...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871312762, 'recvWindow': 5000, 'signature': 'fd2af4c259dea4119d545412051c50fe095c541145f1b1555f2...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955e90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955e90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799e3d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648b490>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:12 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:12 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:14 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:14 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:14 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:14 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:15 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59723), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59723), <eventlet.greenio.base.GreenSocket object at 0x12793af90>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aa030>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648bcd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127929080>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871315667, 'recvWindow': 5000, 'signature': '806e51d23745682c589a77ec06e7c06382e3b403f9b7dfaabcf8e6f29f02c8...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871315667, 'recvWindow': 5000, 'signature': '806e51d23745682c589a77ec06e7c06382e3b403f9b7dfaabcf8e6f29f02c8...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871315667, 'recvWindow': 5000, 'signature': '806e51d23745682c589a77ec06e7c06382e3b403f9b7dfaabcf...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127955e90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127955e90>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799d8d0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a520>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a520>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:15 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:15 | ERROR    | __main__:get_account:95 - 接口异常: %s
Traceback (most recent call last):

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/greenthread.py", line 272, in main
    result = function(*args, **kwargs)
             │         │       └ {}
             │         └ ([('127.0.0.1', 59724), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request'],)
             └ <bound method Server.process_request of <eventlet.wsgi.Server object at 0x1263ef770>>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 905, in process_request
    self.protocol(conn_state, self)
    │    │        │           └ <eventlet.wsgi.Server object at 0x1263ef770>
    │    │        └ [('127.0.0.1', 59724), <eventlet.greenio.base.GreenSocket object at 0x12793b050>, 'request']
    │    └ <class 'eventlet.wsgi.HttpProtocol'>
    └ <eventlet.wsgi.Server object at 0x1263ef770>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 363, in __init__
    self.handle()
    │    └ <function HttpProtocol.handle at 0x1263fae80>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 396, in handle
    self.handle_one_request()
    │    └ <function HttpProtocol.handle_one_request at 0x1263fafc0>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 492, in handle_one_request
    self.handle_one_response()
    │    └ <function HttpProtocol.handle_one_response at 0x1263fb060>
    └ <eventlet.wsgi.HttpProtocol object at 0x1279aba70>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/eventlet/wsgi.py", line 632, in handle_one_response
    for data in result:
                └ <generator object DebuggedApplication.debug_application at 0x12648b940>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/werkzeug/debug/__init__.py", line 343, in debug_application
    app_iter = self.app(environ, start_response)
               │    │   │        └ <function HttpProtocol.handle_one_response.<locals>.start_response at 0x127fa5940>
               │    │   └ {'wsgi.errors': <_io.TextIOWrapper name='<stderr>' mode='w' encoding='utf-8'>, 'wsgi.version': (1, 0), 'wsgi.multithread': Tr...
               │    └ <bound method Flask.wsgi_app of <Flask 'web_app'>>
               └ <werkzeug.debug.DebuggedApplication object at 0x1263edfd0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               │    └ <function Flask.full_dispatch_request at 0x106874680>
               └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         │    └ <function Flask.dispatch_request at 0x1068745e0>
         └ <Flask 'web_app'>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           │    │           │    │              │    │            └ {}
           │    │           │    │              │    └ 'get_account'
           │    │           │    │              └ <Rule '/api/account' (GET, HEAD, OPTIONS) -> get_account>
           │    │           │    └ {'static': <function Flask.__init__.<locals>.<lambda> at 0x116280680>, 'index': <function index at 0x12645bce0>, 'get_account...
           │    │           └ <Flask 'web_app'>
           │    └ <function Flask.ensure_sync at 0x106874860>
           └ <Flask 'web_app'>

> File "/Users/dujian/aster/aster_bot_python/web_app.py", line 77, in get_account
    account = ex.get_account()
              │  └ <function Aster.get_account at 0x106e105e0>
              └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 602, in get_account
    response = self._signed_request('GET', '/fapi/v2/account')
               │    └ <function Aster._signed_request at 0x106cefd80>
               └ <exchanges.aster.Aster object at 0x126332850>

  File "/Users/dujian/aster/aster_bot_python/exchanges/aster.py", line 410, in _signed_request
    response = requests.get(url, params=params, headers=headers)
               │        │   │           │               └ {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}
               │        │   │           └ {'timestamp': 1751871315726, 'recvWindow': 5000, 'signature': '550338b9cd0d079d8f90f733cc15237a9e03285c7e43ad64a1cf17a550e090...
               │        │   └ 'https://fapi.asterdex.com/fapi/v2/account'
               │        └ <function get at 0x106ca6840>
               └ <module 'requests' from '/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/__init__.py'>

  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'X-MBX-APIKEY': '2edb2ff9f6e793b8367b48c7fbfbf57fef0114e872f725e6e643bbc0f21869e3'}}
           │              │           └ {'timestamp': 1751871315726, 'recvWindow': 5000, 'signature': '550338b9cd0d079d8f90f733cc15237a9e03285c7e43ad64a1cf17a550e090...
           │              └ 'https://fapi.asterdex.com/fapi/v2/account'
           └ <function request at 0x106cc84a0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'timestamp': 1751871315726, 'recvWindow': 5000, 'signature': '550338b9cd0d079d8f90f733cc15237a9e03285c7e43ad64a1c...
           │       │              │           └ 'https://fapi.asterdex.com/fapi/v2/account'
           │       │              └ 'get'
           │       └ <function Session.request at 0x106ceccc0>
           └ <requests.sessions.Session object at 0x127957800>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0....
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x106ced1c0>
           └ <requests.sessions.Session object at 0x127957800>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'proxies': OrderedDict({'http': 'http://127.0.0.1:1087', 'https': 'http://127.0.0.1:1087', 'socks': 'http:/...
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x106cec540>
        └ <requests.adapters.HTTPAdapter object at 0x12799fad0>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x106aa9940>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 773, in urlopen
    self._prepare_proxy(conn)
    │    │              └ None
    │    └ <function HTTPSConnectionPool._prepare_proxy at 0x106aa9bc0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x12648a060>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 1042, in _prepare_proxy
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x106aa1800>
    └ <urllib3.connection.HTTPSConnection object at 0x1263ffc50>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        └ <function _ssl_wrap_socket_and_match_hostname at 0x106a6fe20>
  File "/Users/dujian/aster/aster_bot_python/venv/lib/python3.13/site-packages/urllib3/connection.py", line 931, in _ssl_wrap_socket_and_match_hostname
    context.verify_mode = resolve_cert_reqs(cert_reqs)
    │       │             │                 └ 'CERT_REQUIRED'
    │       │             └ <function resolve_cert_reqs at 0x106a4c7c0>
    │       └ <property object at 0x105803100>
    └ <ssl.SSLContext object at 0x106c374a0>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>

  File "/opt/homebrew/Cellar/python@3.13/3.13.3_1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 679, in verify_mode
    super(SSLContext, SSLContext).verify_mode.__set__(self, value)
          │           │                               │     └ <VerifyMode.CERT_REQUIRED: 2>
          │           │                               └ <ssl.SSLContext object at 0x106c374a0>
          │           └ <class 'gevent.ssl.SSLContext'>
          └ <class 'gevent.ssl.SSLContext'>
  [Previous line repeated 957 more times]

RecursionError: maximum recursion depth exceeded
2025-07-07 14:55:15 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:56 - 收到的exchange参数: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:58 - ex实例类型: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:60 - web_app.py用的BACKPACK_API_KEY: %s
2025-07-07 14:55:15 | INFO     | __main__:get_account:61 - web_app.py用的BACKPACK_API_SECRET: %s
